function [y1] = Fcn_Red_Qr_1(x1)
%FCN_RED_QR_1 neural network simulation function.
%
% Auto-generated by MATLAB, 06-Sep-2021 10:49:55.
% 
% [y1] = Fcn_Red_Qr_1(x1) takes these arguments:
%   x = 2xQ matrix, input #1
% and returns:
%   y = 1xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-116.063060960018;-116.229534617895];
x1_step1.gain = [0.00861222819736077;0.00860324037730651];
x1_step1.ymin = -1;

% Layer 1
b1 = [-4.2550771714395141387;2.1977140777426780183;1.6034152841771929232;1.8619110599412840301;-0.50722861554474396595;1.4612844042535990674;-1.4385250904056581245;1.7028577606501662522;-3.3314700697280033026;-4.1136557074791948452];
IW1_1 = [4.6977032847991990749 0.58501396515018366795;-2.5295279062404998349 -2.3834500573231962584;-3.109424872410354812 -0.060248501441094143294;-3.2156012565361833389 2.1275645488166734509;-1.6800176125615415845 -1.7584551300242328153;0.34932756828010325112 -2.4764723149613190323;-0.22908689480655572424 -3.4615366773295330738;3.0166794115933863729 -0.066298724596855748703;-2.5462966619745457386 -2.6775140371108796522;0.16311885919189958449 -3.5370861697005904212];

% Layer 2
b2 = [-1.80376575563190511;-1.2854191340348766204;1.1680462093990784389;-0.92173116938850241375;0.55495141164907457743;-0.44987136242342140591;0.54528948388591458318;0.95817522110673758462;-0.84745648421552544072;-0.8991142057920359365];
LW2_1 = [0.8749663157476547104 0.33072500214076427927 -0.033515236215806161468 -0.53931504882702285819 0.10132443635210650057 -0.20690043056481557948 -0.79597632955398345267 0.54354346516988116811 0.55227179144508575792 0.77847760003119781391;1.0692639266758927619 0.089062159632805601439 0.74340208520574657669 0.34683912419494544732 0.11704159992483793851 -0.55147464497958587071 -0.47927144633049972855 -0.5412522330890374711 0.32114246070539270717 -0.83917122783545672338;-0.64411660939858639274 -0.12396647759015726187 -1.0476038268349767701 -0.50589629509869560309 -0.23490932871844311114 -0.22931153350729696627 0.18452324692765370573 0.046078849178697069144 0.15381116953285592364 -0.20662478760954230972;0.57793521678743475789 0.93709232428964595041 1.2061591491585936797 -0.52291322564620756896 -0.93145831966613734654 1.7784499210449546958 0.88822459313771573441 0.59143476976765863018 0.72618216731798779229 -0.043796860512536568699;-0.41718247895149601634 -0.75230736962470412532 -0.99894569216195550077 -0.41907239350173264292 0.13497446835463192127 -1.3239547745507036502 -0.19233859740503705948 0.35690634684481198358 0.053924838472989525262 -0.33306259481302147307;-0.30064230587357210212 -0.5747814829615445209 -0.6722966022462342206 -0.14105277365379595422 0.048591065930424351405 0.33686311742223662424 -0.26541902663562477738 0.9403745258321858369 0.78677817152258855415 0.42306317824680994555;0.38556687015234181182 -0.077930160768601861032 1.4742942370917098138 1.0143719723711028813 -0.54167265447720980287 0.17479629237693439237 -1.0175626839646256805 -1.2401419192262153057 -0.2496782043665238815 -0.17242007123728303464;0.11206490905752850007 -0.068944229457736122546 -0.097056607293552074611 -0.23556574973737928747 0.44482102891748848128 0.91770239478232740193 0.47612578188567244997 -0.45840069283877576956 0.21564880924297100129 1.1499126474761867112;-0.75507650608926690783 0.1757833105680454977 0.27784593209329877528 0.9576309639725051337 -0.23583936969739463518 -1.6992378072776799236 1.8753876923761987339 -2.0847485353172010569 -1.2193061346454543425 -0.59856919328997659768;0.97170406019960298138 0.29381371947922624299 -0.54347071181110273574 -2.3422471950745222813 0.64908985719268574854 1.75263710944947948 0.50898205875280877475 0.16551270332919210126 0.12709316676564028081 -1.2682418222326439228];

% Layer 3
b3 = [-1.3521455825520911631;2.7000192749675631099;0.8100878181550345003;-0.71199715208907043973;0.19999403744427646235;0.63096428315998764891;0.45277251881244667819;-0.7563783908029294567;1.7219421601000226563;1.5062234382223698148];
LW3_2 = [-0.14036460322298535686 0.15661952608473320159 -0.63946579209858034343 0.49366478921523715417 -0.51678773043545811472 -0.9228745013203135672 -0.78206202674004265951 -1.0217572624447388563 -0.039995983423332090445 -0.75602928357983489871;-2.2934563270773424826 0.20074662485315775129 1.4540430592096771356 -1.802749047646601932 2.3288674831828273248 -0.92037910471652750743 -2.1045576809551822528 1.8292662517516171672 2.9201867746005651938 0.38838143201692343354;-0.58596583154980985686 0.22637166246115184021 0.088901243612562921848 -0.21575489515228224446 -0.81691204852533438885 -0.51330581830033383817 0.23476345918952665204 -0.49685089246877423008 -0.88995688342810497229 0.21713333784066085608;0.35607799396793576863 0.70924260303129327276 -0.33383494561372983878 0.56192589643668333643 -0.70601572667592527033 -0.10011526426290098812 -0.22786307511095962863 -0.14907547522831388065 0.2004998644065249247 0.85492558482635649941;-0.99866076002414205792 0.08101231738300361529 -0.4742970283118043695 0.4265290625150694459 -0.68476495834493955606 -0.19631001761483771184 -0.13416078402460673846 0.39092233558984296193 -0.099230211790325859034 1.8079366239326621901;0.67658999125346308556 0.19897663526395412137 0.098317216194019757536 0.193774307548400887 0.5286726825358092352 0.083161832299836771498 0.38441698287395748013 -0.27486338305709118179 -0.23983923201469148356 -0.41491614288587924664;0.14675233286431554891 0.45036660010048379377 0.3357337546173937981 0.048406426648722959694 -0.10111074298078406852 0.7156184010313652033 -0.079467370393826272656 -0.62090713108671602427 -0.39712794756346753156 -0.80981503957636336022;-0.35761251520015158167 -0.28182368620120668012 0.18450605005072254206 -0.65928384835813347298 -0.45944720645387421287 -0.19916300820566995577 0.12700085950869727247 -0.49425818322849113251 -0.030188032407471993707 0.59368867308563177954;0.12627198025042385421 0.44405193176403362498 -0.50932638847956046568 -0.7797249323211878913 0.3085521107421486664 -0.51927584840505225383 0.2899837025054374795 -0.17983086142042864486 -0.40009680054759894086 -0.58426333843392741496;1.1084608275414400413 1.0423412471077568853 -1.0702893504102328759 -0.11204573328398687027 1.1785316400676211224 0.10226407479891649888 -0.74257644969467440088 -0.54536173860572778604 0.28947867245340480613 0.47965944491795403648];

% Layer 4
b4 = 0.71983740197418966122;
LW4_3 = [0.2927696574816224806 -1.3163728954764695178 0.2900208364312378273 -0.64285299439359289142 0.9992738980700525131 0.64602983287978188454 -0.46537187082287650997 0.81246620528987500975 -0.39381518105195872925 0.091082521800584181904];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = 0.382528974555994;
y1_step1.xoffset = -2.61075848464239;

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);

% Layer 3
a3 = tansig_apply(repmat(b3,1,Q) + LW3_2*a2);

% Layer 4
a4 = repmat(b4,1,Q) + LW4_3*a3;

% Output 1
y1 = mapminmax_reverse(a4,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
